import{_ as $}from"./AppLayout-c8bac192.js";import{_ as x}from"./ActionMessage-17ba2c3b.js";import{_ as C}from"./FormSection-3367ab13.js";import{a as _,_ as V}from"./TextInput-918b0315.js";import{_ as h}from"./InputLabel-afcc1449.js";import{_ as S}from"./PrimaryButton-876445f6.js";import{r as I,E as U,o as v,d as k,t as m,n as w,p as B,A as F,z as j,s as A,b as l,u as o,a as n,v as D,c as E,w as d,f as b}from"./app-8a8114d3.js";import{b as N}from"./index-2a30d0c3.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./SwitchLocale-34a5a2dd.js";import"./ApplicationLogo-af6188fb.js";import"./SectionTitle-b04e05b0.js";const P={__name:"TextAreaInput",props:{modelValue:String,error:{type:String,default:null}},emits:["update:modelValue"],setup(f,{expose:t}){const e=I(null);return U(()=>{e.value.hasAttribute("autofocus")&&e.value.focus()}),t({focus:()=>e.value.focus()}),(i,u)=>(v(),k("textarea",{ref_key:"input",ref:e,class:w([f.error?"border-rose-500 dark:border-rose-400 dark:bg-slate-900 dark:text-slate-300 focus:border-rose-500 dark:focus:border-rose-400 focus:ring-rose-500 dark:focus:ring-rose-400 ":"border-slate-300 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-300 focus:border-primary dark:focus:border-primary focus:ring-primary dark:focus:ring-primary ","rounded shadow-sm placeholder:text-slate-300 dark:placeholder:text-slate-700"]),onInput:u[0]||(u[0]=g=>i.$emit("update:modelValue",g.target.value))},m(f.modelValue),35))}},T=["for"],z={key:0,class:"flex flex-col justify-center items-center m-10"},L={class:"text-center"},R={key:1,class:"h-full"},M=["src"],O=["id"],y={__name:"ImageInput",props:{image:{type:String,default:null},source:{type:String,default:"image"},tooltip:{type:String,default:"Click to select/change"}},emits:["fileChange"],setup(f,{emit:t}){const e=f,i=B({image:null,file:null});F(()=>{e.image!=null&&(i.image=e.image)});const u=async p=>{const c=p.target.files[0];c&&(i.image=await g(c),i.file=c,t("fileChange",{file:i.file,source:e.source}))},g=p=>new Promise((c,s)=>{const a=new FileReader;a.readAsDataURL(p),a.onload=()=>c(a.result),a.onerror=r=>s(r)});return(p,c)=>{const s=j("tooltip");return A((v(),k("label",{for:e.source,class:"mt-1 text-slate-400 dark:text-slate-600 border-4 border-dashed border-slate-300 dark:border-slate-600 overflow-hidden flex justify-center items-center hover:cursor-pointer rounded"},[i.image?(v(),k("div",R,[n("img",{class:"h-full",src:i.image,alt:"Image"},null,8,M)])):(v(),k("div",z,[l(o(N),{class:"w-24 h-24"}),n("p",L,"Select "+m(e.source),1)])),n("input",{class:"hidden",type:"file",accept:".jpg,.png,.gif,.svg",id:e.source,onChange:u},null,40,O)],8,T)),[[s,e.tooltip]])}}},q={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},G={class:"col-span-6 sm:col-span-4"},H={class:"col-span-6 sm:col-span-4"},J={class:"col-span-6 sm:col-span-4"},K={class:"col-span-6 sm:col-span-4"},Q={class:"col-span-6 sm:col-span-4"},ie={__name:"Setting",props:{title:String,setting:Object},setup(f){var g,p,c;const t=f,e=D({favicon:null,logo:null,name:(g=t.setting)==null?void 0:g.name,short_name:(p=t.setting)==null?void 0:p.short_name,description:(c=t.setting)==null?void 0:c.description,_method:"PUT"}),i=()=>{var s;e.post(route("setting.update",(s=t.setting)==null?void 0:s.id),{preserveScroll:!0,onSuccess:()=>null,onError:()=>null,onFinish:()=>null})},u=s=>{s.source==="favicon"?e.favicon=s.file:s.source==="logo"&&(e.logo=s.file)};return(s,a)=>(v(),E($,{title:t.title},{title:d(()=>[n("span",null,m(t.title),1)]),default:d(()=>[n("div",null,[n("div",q,[l(C,null,{title:d(()=>[b(m(s.lang().label.web_setting),1)]),description:d(()=>[b(m(s.lang().label.web_setting_description),1)]),form:d(()=>[n("div",G,[l(h,{for:"favicon",value:"Favicon"}),l(y,{source:"favicon",modelValue:o(e).favicon,"onUpdate:modelValue":a[0]||(a[0]=r=>o(e).favicon=r),image:t.setting.full_path_favicon,tooltip:"Click to select/change favicon",class:"mt-1 block w-14 h-14",onFileChange:u},null,8,["modelValue","image"]),l(_,{message:o(e).errors.favicon,class:"mt-2"},null,8,["message"])]),n("div",H,[l(h,{for:"logo",value:"Logo"}),l(y,{source:"logo",modelValue:o(e).logo,"onUpdate:modelValue":a[1]||(a[1]=r=>o(e).logo=r),image:t.setting.full_path_logo,tooltip:"Click to select/change logo",class:"mt-1 block w-24 h-24",onFileChange:u},null,8,["modelValue","image"]),l(_,{message:o(e).errors.logo,class:"mt-2"},null,8,["message"])]),n("div",J,[l(h,{for:"name",value:s.lang().label.name},null,8,["value"]),l(V,{id:"name",modelValue:o(e).name,"onUpdate:modelValue":a[2]||(a[2]=r=>o(e).name=r),type:"text",class:"mt-1 block w-full",placeholder:s.lang().placeholder.name,error:o(e).errors.name},null,8,["modelValue","placeholder","error"]),l(_,{message:o(e).errors.name,class:"mt-2"},null,8,["message"])]),n("div",K,[l(h,{for:"short_name",value:s.lang().label.short_name},null,8,["value"]),l(V,{id:"short_name",modelValue:o(e).short_name,"onUpdate:modelValue":a[3]||(a[3]=r=>o(e).short_name=r),type:"text",class:"mt-1 block w-full",placeholder:s.lang().placeholder.short_name,error:o(e).errors.short_name},null,8,["modelValue","placeholder","error"]),l(_,{message:o(e).errors.short_name,class:"mt-2"},null,8,["message"])]),n("div",Q,[l(h,{for:"description",value:s.lang().label.description},null,8,["value"]),l(P,{id:"description",rows:"4",modelValue:o(e).description,"onUpdate:modelValue":a[4]||(a[4]=r=>o(e).description=r),class:"mt-1 block w-full",placeholder:s.lang().placeholder.description,error:o(e).errors.description},null,8,["modelValue","placeholder","error"]),l(_,{message:o(e).errors.description,class:"mt-2"},null,8,["message"])])]),actions:d(()=>[l(x,{on:o(e).recentlySuccessful,class:"mr-3"},{default:d(()=>[b(m(s.lang().label.saved),1)]),_:1},8,["on"]),l(S,{class:w({"opacity-25":o(e).processing}),disabled:o(e).processing,onClick:i},{default:d(()=>[b(m(s.lang().button.save)+" "+m(o(e).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1})])])]),_:1},8,["title"]))}};export{ie as default};
