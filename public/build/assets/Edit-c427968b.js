import{r as S,v as K,A as C,d as B,s as U,c as E,w as t,h as y,b as a,z as D,o as h,u as l,f as _,t as d,a as i,B as g,n as N}from"./app-361392cb.js";import{_ as j}from"./DialogModal-f38b40b8.js";import{_ as w,a as u}from"./TextInput-8419ad85.js";import{_ as p}from"./InputLabel-4197ba66.js";import{_ as z}from"./ActionButton-ca9a8e2b.js";import{_ as M}from"./PrimaryButton-b50b5a85.js";import{_ as O}from"./SecondaryButton-e8d1bd34.js";import{_ as A}from"./SelectInput-1bf963cc.js";import{a as F}from"./index-0f33daca.js";import"./Modal-284b4928.js";const I=["onSubmit"],P={class:"space-y-1"},T={class:"space-y-1"},q={class:"space-y-1"},G={class:"space-y-1"},H={class:"space-y-1"},le={__name:"Edit",props:{title:String,roles:Object,user:Object},emits:["open"],setup(V,{emit:k}){var b;const n=V,c=S(!1),e=K({name:"",email:"",password:"",password_confirmation:"",role:""});C(()=>{var o,s,f,r;c&&(e.name=(o=n.user)==null?void 0:o.name,e.email=(s=n.user)==null?void 0:s.email,e.role=((f=n.user)==null?void 0:f.roles)==0?"":(r=n.user)==null?void 0:r.roles[0].name)});const m=()=>{var o;e.put(route("user.update",(o=n.user)==null?void 0:o.id),{preserveScroll:!0,onSuccess:()=>v(),onError:()=>null,onFinish:()=>null})},v=()=>{c.value=!1,e.errors={},e.reset()},$=(b=n.roles)==null?void 0:b.map(o=>({label:o.name,value:o.name}));return(o,s)=>{const f=D("tooltip");return h(),B("div",null,[U((h(),E(z,{onClick:s[0]||(s[0]=y(r=>(c.value=!0,k("open")),["prevent"]))},{default:t(()=>[a(l(F),{class:"w-4 h-auto"})]),_:1})),[[f,o.lang().label.edit]]),a(j,{show:c.value,onClose:v},{title:t(()=>[_(d(o.lang().label.edit)+" "+d(n.title),1)]),content:t(()=>[i("form",{class:"space-y-2",onSubmit:y(m,["prevent"])},[i("div",P,[a(p,{for:"name",value:o.lang().label.name},null,8,["value"]),a(w,{id:"name",modelValue:l(e).name,"onUpdate:modelValue":s[1]||(s[1]=r=>l(e).name=r),type:"text",class:"block w-full",autocomplete:"name",placeholder:o.lang().placeholder.name,error:l(e).errors.name,onKeyup:g(m,["enter"])},null,8,["modelValue","placeholder","error","onKeyup"]),a(u,{message:l(e).errors.name},null,8,["message"])]),i("div",T,[a(p,{for:"email",value:o.lang().label.email},null,8,["value"]),a(w,{id:"email",modelValue:l(e).email,"onUpdate:modelValue":s[2]||(s[2]=r=>l(e).email=r),type:"email",class:"block w-full",placeholder:o.lang().placeholder.email,error:l(e).errors.email,onKeyup:g(m,["enter"])},null,8,["modelValue","placeholder","error","onKeyup"]),a(u,{message:l(e).errors.email},null,8,["message"])]),i("div",q,[a(p,{for:"password",value:o.lang().label.password},null,8,["value"]),a(w,{id:"password",modelValue:l(e).password,"onUpdate:modelValue":s[3]||(s[3]=r=>l(e).password=r),type:"password",class:"block w-full",placeholder:o.lang().placeholder.password,error:l(e).errors.password},null,8,["modelValue","placeholder","error"]),a(u,{message:l(e).errors.password},null,8,["message"])]),i("div",G,[a(p,{for:"password_confirmation",value:o.lang().label.password_confirmation},null,8,["value"]),a(w,{id:"password_confirmation",modelValue:l(e).password_confirmation,"onUpdate:modelValue":s[4]||(s[4]=r=>l(e).password_confirmation=r),type:"password",class:"block w-full",placeholder:o.lang().placeholder.password,error:l(e).errors.password_confirmation,onKeyup:g(m,["enter"])},null,8,["modelValue","placeholder","error","onKeyup"]),a(u,{message:l(e).errors.password_confirmation},null,8,["message"])]),i("div",H,[a(p,{for:"role",value:o.lang().label.role},null,8,["value"]),a(A,{id:"role",modelValue:l(e).role,"onUpdate:modelValue":s[5]||(s[5]=r=>l(e).role=r),dataSet:l($),class:"block w-full",error:l(e).errors.role},null,8,["modelValue","dataSet","error"]),a(u,{message:l(e).errors.role},null,8,["message"])])],40,I)]),footer:t(()=>[a(O,{onClick:v},{default:t(()=>[_(d(o.lang().button.cancel),1)]),_:1}),a(M,{class:N(["ml-3",{"opacity-25":l(e).processing}]),disabled:l(e).processing,onClick:m},{default:t(()=>[_(d(o.lang().button.save)+" "+d(l(e).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])])}}};export{le as default};
