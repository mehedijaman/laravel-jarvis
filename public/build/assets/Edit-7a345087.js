import{r as w,v as y,B as $,d as k,s as C,c as S,w as n,h as d,b as o,A as V,o as _,u as a,f as p,t,a as v,z as B,n as E}from"./app-da72e2c5.js";import{_ as D}from"./DialogModal-a9296744.js";import{_ as K,a as N}from"./TextInput-d3c8e09a.js";import{_ as j}from"./InputLabel-17c69ed5.js";import{_ as z}from"./ActionButton-6c6c1abb.js";import{_ as M}from"./PrimaryButton-d514179f.js";import{_ as O}from"./SecondaryButton-d412c3be.js";import{a as A}from"./index-075021ca.js";import"./Modal-ab842a41.js";const F=["onSubmit"],I={class:"space-y-1"},R={__name:"Edit",props:{title:String,roles:Object,permission:Object},emits:["open"],setup(b,{emit:g}){var u;const l=b,r=w(!1),s=y({name:"",guard_name:"web"});$(()=>{var e;r&&(s.name=(e=l.permission)==null?void 0:e.name)});const m=()=>{var e;s.put(route("permission.update",(e=l.permission)==null?void 0:e.id),{preserveScroll:!0,onSuccess:()=>c(),onError:()=>null,onFinish:()=>null})},c=()=>{r.value=!1,s.errors={},s.reset()};return(u=l.roles)==null||u.map(e=>({label:e.name,value:e.name})),(e,i)=>{const h=V("tooltip");return _(),k("div",null,[C((_(),S(z,{onClick:i[0]||(i[0]=d(f=>(r.value=!0,g("open")),["prevent"]))},{default:n(()=>[o(a(A),{class:"w-4 h-auto"})]),_:1})),[[h,e.lang().label.edit]]),o(D,{show:r.value,onClose:c},{title:n(()=>[p(t(e.lang().label.edit)+" "+t(l.title),1)]),content:n(()=>[v("form",{class:"space-y-2",onSubmit:d(m,["prevent"])},[v("div",I,[o(j,{for:"name",value:e.lang().label.name},null,8,["value"]),o(K,{id:"name",modelValue:a(s).name,"onUpdate:modelValue":i[1]||(i[1]=f=>a(s).name=f),type:"text",class:"block w-full",autocomplete:"name",placeholder:e.lang().placeholder.permission_name,error:a(s).errors.name,onKeyup:B(m,["enter"])},null,8,["modelValue","placeholder","error","onKeyup"]),o(N,{message:a(s).errors.name},null,8,["message"])])],40,F)]),footer:n(()=>[o(O,{onClick:c},{default:n(()=>[p(t(e.lang().button.cancel),1)]),_:1}),o(M,{class:E(["ml-3",{"opacity-25":a(s).processing}]),disabled:a(s).processing,onClick:m},{default:n(()=>[p(t(e.lang().button.save)+" "+t(a(s).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])])}}};export{R as default};
