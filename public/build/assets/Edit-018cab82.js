import{r as w,v as $,B as k,d as C,j as S,c as V,w as l,m as f,b as o,p as y,o as _,u as a,f as c,t as n,a as v,n as B}from"./app-140420f6.js";import{_ as j}from"./DialogModal-960de5e0.js";import{_ as D}from"./InputError-ec5e04a0.js";import{_ as E}from"./InputLabel-4e3ec04e.js";import{_ as N}from"./ActionButton-e18c8aeb.js";import{_ as M}from"./PrimaryButton-33321802.js";import{_ as O}from"./SecondaryButton-92b0cd9d.js";import{_ as U}from"./TextInput-7ec62e4f.js";import{a as z}from"./index-82d8797f.js";import"./Modal-b2fb9e2b.js";const F=["onSubmit"],I={class:"space-y-1"},R={__name:"Edit",props:{title:String,roles:Object,permission:Object},emits:["open"],setup(b,{emit:g}){var u;const r=b,t=w(!1),s=$({name:"",guard_name:"web"});k(()=>{var e;t&&(s.name=(e=r.permission)==null?void 0:e.name)});const p=()=>{var e;s.put(route("permission.update",(e=r.permission)==null?void 0:e.id),{preserveScroll:!0,onSuccess:()=>m(),onError:()=>null,onFinish:()=>null})},m=()=>{t.value=!1,s.errors={},s.reset()};return(u=r.roles)==null||u.map(e=>({label:e.name,value:e.name})),(e,i)=>{const h=y("tooltip");return _(),C("div",null,[S((_(),V(N,{onClick:i[0]||(i[0]=f(d=>(t.value=!0,g("open")),["prevent"]))},{default:l(()=>[o(a(z),{class:"w-4 h-auto"})]),_:1})),[[h,e.lang().label.edit]]),o(j,{show:t.value,onClose:m},{title:l(()=>[c(n(e.lang().label.edit)+" "+n(r.title),1)]),content:l(()=>[v("form",{class:"space-y-2",onSubmit:f(p,["prevent"])},[v("div",I,[o(E,{for:"name",value:e.lang().label.name},null,8,["value"]),o(U,{id:"name",modelValue:a(s).name,"onUpdate:modelValue":i[1]||(i[1]=d=>a(s).name=d),type:"text",class:"block w-full",autocomplete:"name",placeholder:e.lang().placeholder.permission_name,error:a(s).errors.name},null,8,["modelValue","placeholder","error"]),o(D,{message:a(s).errors.name},null,8,["message"])])],40,F)]),footer:l(()=>[o(O,{onClick:m},{default:l(()=>[c(n(e.lang().button.cancel),1)]),_:1}),o(M,{class:B(["ml-3",{"opacity-25":a(s).processing}]),disabled:a(s).processing,onClick:p},{default:l(()=>[c(n(e.lang().button.save)+" "+n(a(s).processing?"...":""),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])])}}};export{R as default};
